{% extends 'base.html' %}
{% load static %}
{% load tz %}

{% block link %}
<link rel="stylesheet" href="{% static 'css/booking_history.css' %}">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
{% endblock %}

{% block content %}

<div class="history-container">
    <h2>Booking History</h2>
    {% if bookings %}
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Start Time</th>
                    <th>End Time</th>
                    <th>Total Hours</th>
                    <th>Total Price</th>
                    <th>Booking Time</th>
                </tr>
            </thead>
            <tbody>
                {% for booking in bookings %}
                    <tr>
                        <td>{{ booking.date }}</td>
                        <td>{{ booking.start_time }}</td>
                        <td>{{ booking.end_time }}</td>
                        <td>{{ booking.total_hours }}</td>
                        <td>{{ booking.total_price }}</td>
                        <td>{{ booking.booking_time|timezone:"Asia/Kolkata"|date:"d M Y, h:i A" }}</td>
                        <td><a href="{% url 'confirm_cancel_booking' booking.id %}">Cancel Booking</a></td>
                        
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>You have no booking history.</p>
    {% endif %}
</div>
<!-- Include Bootstrap JS and dependencies -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

{% endblock %}